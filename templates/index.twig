{# Beyond Foundation, Home #}

{% extends "_layout" %}

{% set entry = craft.entries().section('home').one() %}
{% set teasers = craft.entries().section('homeTeasers').all() %}

{% block content %}

  <a href="/about" id="slogan">
    <h1 style="hyphens: manual;">{{ 'Beyond&nbsp;right&shy; and&nbsp;wrong&nbsp;…'|raw }}</h1>
  </a>
   
    <div id="carousel">
    {% if entry.slideshowImages|length %}
      {% for slideshowImage in entry.slideshowImages %}
      <img class="carousel-cell" src="{{ alias('@assetBasePath') }}/{{ slideshowImage.getUrl() }}" alt="">
      {% endfor %}
    {% else %}
      <img class="carousel-cell" src="{{ alias('@assetBasePath') }}/assets/_pic/slideshow/test1.jpg" alt="">
      <img class="carousel-cell" src="{{ alias('@assetBasePath') }}/assets/_pic/slideshow/test2.jpg" alt="">
      <img class="carousel-cell" src="{{ alias('@assetBasePath') }}/assets/_pic/slideshow/test3.jpg" alt="">
      <img class="carousel-cell" src="{{ alias('@assetBasePath') }}/assets/_pic/slideshow/test4.jpg" alt="">
      <img class="carousel-cell" src="{{ alias('@assetBasePath') }}/assets/_pic/slideshow/test5.jpg" alt="">
    {% endif %}
    </div>
  </a>

    <script src="{{ alias('@assetBasePath') }}/assets/js/flickity.js"></script>
    <script src="{{ alias('@assetBasePath') }}/assets/js/flickity-fade.js"></script>
    <script>
      console.log('I & I is at {{ slug }}' );

      // initialize slider aka. «carousel»
    
      window.addEventListener('DOMContentLoaded', (event) => {
        var carousel = document.querySelector('#carousel');
        var flkty = new Flickity(carousel, {
          // options
          fade: true,
          draggable: false,
          wrapAround: true,
          autoPlay: 3000,
          prevNextButtons: false,
          pageDots: false,
        });
      });
    </script>

{% endblock %}
